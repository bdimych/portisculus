УПС!
проблемка обнаружилась
когда count запущен из create то ctrl+c перехватывается ruby и не доходит до count и поэтому mplayer остаётся висеть
	-ну вот вроде назначить trap "INT" {	puts 'int trap' } вроде работает
		но надо после `count` вернуть наверно назад
	-и ещё я видел есть возможность try/catch




	
	
во чё приумал
	-попробовать сделать в ruby посимвольно читать команду
		в ruby есть модули повторяющие функции stty - см. гугл
	OK -в первом проходе не останавливаться на ручной подсчёт
	OK -после первого прохода сохранить базу
	-перед проходом по подсчёту сначала выводить статистику что мол столько-то файлов неопределилось bpm
	-после каждого ручного подсчёта пауза и статистика что обработано X from Y и что next/stop and save
	-отлавливать ctrl-c
		-выводить статистику и спрашивать что осталось столько то, выйти ?
		-при выходе сохранять базу
		-вокруг `count` сделать
			trap("INT") {wasCtrlC = true}
			`count`
			if (wasCtrlC) выход
	
	-САТИСТИКА
		-всего в базе путей
		-несуществующих
		-каталогов
		-файлов
		-в этом запуске
			-определено автоматически
			-ошибка определения
			-подсчитано вручную
		-осталось без bpm








	









		
		
	
	

	
	
	

-идея: если в базе вместо bpm например 'count by hands' то запускать ручной счёт
	т.е. управлять скриптом (1-create-bpm-database.rb) не из командной строки а через базу
		-не, лучше во как, лучше сделать ключ -a --ask по которому сделать типа интерфейс с автодополнением в котором выбирать файлы из bpm-database
		например из строки брать слова и динамически показывать grep word1 | grep word2 | ...
			-вопрос только как [редактировать строку + читать посимвольно + выводить grep]
			это надо типа ncurses или же readline хватит?
				-хотя можно и вообще не посимвольно а построчно просто ограничить кол-во результатов grep
					а readline отработает стрелку вверх предыдущий ввод
				-а, вот ещё в принципе можно screen задействовать или tmux
				-или же вообще гуевское окошко какое-нибудь открывать
НЕТ, сейчас вот что думаю:
	с динамическим автодополнением это я загнул
	через базу неудобно
	нужно вот так:
		-если аргументов нет то tmp.mp3
		-если есть то по каждому аргументу делать grep -P $arg bpm-database.txt выводить список и спрашивать подтверждения
	и всего делов
				


				
--help
	1-create-bpm-database.rb
	count-bpm-by-hands.sh
	




-документация


	
